/* at45x page reading */extern void at45_page_read(unsigned lba, void *out) {    unsigned char req[8];    unsigned addr, page, byte;        page = lba / AT45_PAGE_SIZE;    byte = lba % AT45_PAGE_SIZE;	addr = (page << 11) + byte;        /*util_printf("Page - %x, Byte -%x, Addr - %x\n", page, byte, addr); */        req[0] = 0xd2;    req[1] = ((addr & 0x00ff0000) >> 16);	req[2] = ((addr & 0x0000ff00) >> 8);	req[3] = (addr & 0x000000ff);    req[4] = 0;    req[5] = 0;    req[6] = 0;    req[7] = 0;        at45_transfer(req, 8, out, AT45_PAGE_SIZE);} /* at45x page writing */extern void at45_page_write(unsigned char id, unsigned lba) {	unsigned char req[4];    unsigned addr, page;        page = lba / AT45_PAGE_SIZE;	addr = (page << 11);        /*util_printf("Page - %x, Byte -%x, Addr - %x\n", page, byte, addr); */	req[0] = (id == 1) ? 0x83 : 0x86;	req[1] = ((addr & 0x00ff0000) >> 16);	req[2] = ((addr & 0x0000ff00) >> 8);	req[3] = (addr & 0x000000ff);	at45_transfer(req, 4, 0, 0);}/* at45x page writing through buffer */extern unsigned at45_page_write_through(unsigned char id, unsigned lba) {    unsigned char req[4];    unsigned addr, page, byte;        page = lba / AT45_PAGE_SIZE;    byte = lba % AT45_PAGE_SIZE;	addr = (page << 11) + byte;        /*util_printf("Page - %x, Byte -%x, Addr - %x\n", page, byte, addr); */        req[0] = (id == 1) ? 0x82 : 0x25;    req[1] = ((addr & 0x00ff0000) >> 16);	req[2] = ((addr & 0x0000ff00) >> 8);	req[3] = (addr & 0x000000ff);	at45_transfer(req, 4, 0, 0);}