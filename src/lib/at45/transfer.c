/* at45x data transfer */extern void at45_transfer(void *cmd, unsigned cmd_len,    void *data, unsigned data_len) {    struct spi_t_block t_block[2];    int block_n = 1;    /* setup command to transfer structure */    t_block[0].spi_rx = cmd;    t_block[0].spi_tx = cmd;    t_block[0].spi_t_len = cmd_len;    /* if data exists setup data to transfer structure */    if (data_len) {        t_block[1].spi_rx = data;        t_block[1].spi_tx = data;        t_block[1].spi_t_len = data_len;        block_n++;    }    /* select at45db642d spi flash */    spi_select(0);    /* transfer data */    spi_transfer(t_block, block_n);}